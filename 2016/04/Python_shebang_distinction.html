<!DOCTYPE html>
<html lang="zh-cn">

<head>
      <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="/2016/04/Python_shebang_distinction.html" />

    <title>  The Rhythm of Code &mdash; #!/usr/bin/python 与#!/usr/bin/env python的区别
</title>

      <link rel="icon" type="image/png" href="/extra/favicon-196x196.png" sizes="196x196">
      <link rel="icon" type="image/png" href="/extra/favicon-160x160.png" sizes="160x160">
      <link rel="icon" type="image/png" href="/extra/favicon-96x96.png" sizes="96x96">
      <link rel="icon" type="image/png" href="/extra/favicon-16x16.png" sizes="16x16">
      <link rel="icon" type="image/png" href="/extra/favicon-32x32.png" sizes="32x32">



    <link rel="stylesheet" href="/theme/css/style.css">

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


    <meta name="author" content="DTree">
    <meta name="description" content="!/usr/bin/python 与#!/usr/bin/env python的区别">
  <meta name="tags" contents="Python, ">
</head>

<body>
<header class="header">
  <div class="container">
      <div class="header-image pull-left">
        <a class="nodec" href=""><img src=/extra/favicon.jpg width="200" height="200"></a>
      </div>
    <div class="header-inner">
      <h1 class="header-name">
        <a class="nodec" href="">The Rhythm of Code</a>
      </h1>
      <h3 class="header-text">努力发现代码中的韵律之美</h3>
      <ul class="header-menu list-inline">
          <li><a class="nodec" href="/archives.html">Archives</a></li>
          <li class="muted">|</li>
          <li><a class="nodec" href="/categories.html">Categories</a></li>
          <li class="muted">|</li>
          <li><a class="nodec" href="/tags.html">Tags</a></li>
          <li class="muted">|</li>
           <!--                <li class="muted">|</li>
 -->
            <li><a class="nodec" href="/2016/04/pages/about-me.html">About Me</a></li>
              <li class="muted">|</li>
          <li><a class="nodec icon-github" href="https://github.com/liuxiangbin"></a></li>
          <li><a class="nodec icon-douban" href="https://www.douban.com/people/94939051/">豆瓣</a></li>
          <li><a class="nodec icon-mail-alt" href="mailto:mycodekongdom@gmail.com"></a></li>
      </ul>
    </div>
  </div>
</header> <!-- /.header -->  <div class="container">
  <div class="post full-post">
    <h1 class="post-title">
      <a href="/2016/04/Python_shebang_distinction.html" title="Permalink to #!/usr/bin/python 与#!/usr/bin/env python的区别">#!/usr/bin/python 与#!/usr/bin/env python的区别</a>
    </h1>
    <ul class="list-inline">
      <li class="post-date">
        <a class="text-muted" href="/2016/04/Python_shebang_distinction.html" title="2016-04-20T21:32:00+08:00">2016-04-20 21:32:00</a>
      </li>
      <li class="muted">&middot;</li>
      <li class="post-category">
        <a href="/category/python.html">Python</a>
      </li>
        <li class="muted">&middot;</li>
        <li>
            <a href="/tag/Python.html">Python</a>        </li>
        <li class="muted">&middot;</li>
        <li>
          <address class="post-author">
            By <a href="/author/dtree.html">DTree</a>
          </address>
        </li>
    </ul>
    <div class="post-content">
      <p><img alt="" src="http://upload-images.jianshu.io/upload_images/1708072-47b0542e84b4a91d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
python脚本文件的第一行通常会写成如下的形式，</p>
<blockquote>
<h1>!/usr/bin/python</h1>
<p>or</p>
<h1>!/usr/bin/env python</h1>
</blockquote>
<p>它们用于指定执行该脚本的解释器，如上即是指定python作为解释器。在计算机科学中这有个专门的术语，叫做<strong>shebang</strong>，可见其使用之广泛。</p>
<blockquote>
<p>在计算机科学中，Shebang是一个由井号和叹号构成的字符串行，其出现在文本文件的第一行的前两个字符。 在文件中存在Shebang的情况下，类Unix操作系统的程序载入器会分析Shebang后的内容，将这些内容作为解释器指令，并调用该指令，并将载有Shebang的文件路径作为该解释器的参数。 </p>
</blockquote>
<p>那么一开始的两种写法有什么区别呢？
如果直接采用 python file.py 的方式运行脚本的话，有没有shebang都无所谓，因为我们自己直接指定了该脚本的解释器，即python。但是，如果以 ./file.py 的方式运行的话，一开始的两种写法就有一些区别了。
通常我们认为 <code>#!/usr/bin/python</code> 采用了绝对路径的写法，即<strong>指定了采用/usr/bin/python 解释器来执行该脚本</strong>。一般类Unix系统下，python解释器都位于该路径，不幸的是如果python解释器不在该路径下的话，./file.py 就无法运行。而 <code>#!/usr/bin/env python</code> 的写法<strong>指定从PATH环境变量中来查找python解释器的位置</strong>，因此只要环境变量中存在，该脚本即可执行。
综述所述，一般情况下采用 <code>#!/usr/bin/env python</code> 的写法更好，更加具有通用性。</p>
    </div>
  </div>
  <hr class="separator">
  <div class="col-md-8 col-md-offset-2">
  </div>
  </div>
<footer class="footer">
  <div class="container">
  <!--   <p class="text-center">
      dtree, <a href="" target="_blank"></a> unless otherwise noted.
    </p> -->
    <p class="text-center">
      Copyright © 2016 DTree. All Rights Reserved. 
    </p>
    <div class="text-center">
      Generated by <a href="http://getpelican.com" target="_blank">Pelican</a> with the <a href="http://github.com/nairobilug/pelican-alchemy">alchemy</a> theme.
    </div>
  </div>
</footer> <!-- /.footer -->
  <script src="/theme/js/jquery.min.js"></script>
  <script src="/theme/js/bootstrap.min.js"></script>
</body> <!-- 42 -->

</html>